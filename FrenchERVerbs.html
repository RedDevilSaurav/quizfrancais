<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>French ER Verbs Click and Match</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f8ff;
      padding: 20px;
    }
    h2 {
      text-align: center;
      margin-bottom: 10px;
    }
    .button-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .left-buttons {
      text-align: center;
    }
    .reset-button, .shuffle-button {
      padding: 80px 88px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
      margin: 0 8px;
    }
    .reset-button:hover, .shuffle-button:hover {
      background-color: #0056b3;
    }
    .score-display {
      font-size: 18px;
      margin-right: 10px;
      font-weight: bold;
    }
    .container {
      display: flex;
      justify-content: center;
      gap: 40px;
      flex-wrap: wrap;
    }
    .item-list {
      width: 300px;
    }
    .item {
      background-color: white;
      border: 2px solid #ccc;
      border-radius: 8px;
      padding: 8px;
      margin: 6px auto;
      width: 90%;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s;
    }
    .item.correct {
      background-color: #c8f7c5 !important;
    }
    .item.incorrect {
      background-color: #f8d7da !important;
    }
    .item.correct::after {
      content: ' \2714';
      color: green;
    }
    .item.incorrect::after {
      content: ' \274C';
      color: red;
    }
    .selected {
      border-color: #007bff;
    }
  </style>
</head>
<body>
  <h2>Click and Match: French ER Verbs and Their Meanings</h2>
  <div class="button-container">
    <div class="left-buttons">
      <button class="reset-button" onclick="window.location.reload()">Reset</button>
      <button class="shuffle-button" onclick="shuffleItems()">Shuffle</button>
    </div>
    <div class="score-display" id="score">Score: 0 / 25</div>
  </div>
  <div class="container">
    <div class="item-list" id="verbs"></div>
    <div class="item-list" id="meanings"></div>
  </div>

  <script>
    let verbs = [
      { french: 'adorer', english: 'to adore' },
      { french: 'demander', english: 'to ask' },
      { french: 'fermer', english: 'to close' },
      { french: 'compter', english: 'to count' },
      { french: 'couper', english: 'to cut' },
      { french: 'discuter', english: 'to discuss' },
      { french: 'dessiner', english: 'to draw' },
      { french: 'tomber', english: 'to fall' },
      { french: 'trouver', english: 'to find' },
      { french: 'donner', english: 'to give' },
      { french: 'détester', english: 'to hate' },
      { french: 'déjeuner', english: 'to have lunch' },
      { french: 'inviter', english: 'to invite' },
      { french: 'aimer', english: 'to like/to love' },
      { french: 'écouter', english: 'to listen' },
      { french: 'regarder', english: 'to look at / to watch' },
      { french: 'jouer', english: 'to play' },
      { french: 'préférer', english: 'to prefer' },
      { french: 'préparer', english: 'to prepare' },
      { french: 'chanter', english: 'to sing' },
      { french: 'étudier', english: 'to study' },
      { french: 'visiter', english: 'to visit' },
      { french: 'marcher', english: 'to walk' },
      { french: 'porter', english: 'to wear/to carry' },
      { french: 'travailler', english: 'to work' }
    ];

    let score = 0;

    function updateScoreDisplay() {
      document.getElementById('score').textContent = `Score: ${score} / 25`;
    }

    function celebrate() {
      confetti({
        particleCount: 200,
        spread: 70,
        origin: { y: 0.6 }
      });
    }

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function clearContainers() {
      document.getElementById('verbs').innerHTML = '';
      document.getElementById('meanings').innerHTML = '';
    }

    function populateGame() {
      clearContainers();
      score = 0;
      updateScoreDisplay();

      const verbContainer = document.getElementById('verbs');
      const meaningContainer = document.getElementById('meanings');

      verbs.forEach(v => {
        const div = document.createElement('div');
        div.className = 'item';
        div.dataset.match = v.english;
        div.textContent = v.french;
        verbContainer.appendChild(div);
      });

      const shuffledMeanings = shuffle([...verbs]);
      shuffledMeanings.forEach(v => {
        const div = document.createElement('div');
        div.className = 'item';
        div.textContent = v.english;
        meaningContainer.appendChild(div);
      });

      attachEventHandlers();
    }

    function attachEventHandlers() {
      let selectedVerb = null;

      const verbItems = document.querySelectorAll('#verbs .item');
      const meaningItems = document.querySelectorAll('#meanings .item');

      verbItems.forEach(item => {
        item.addEventListener('click', () => {
          if (item.classList.contains('correct')) return;
          verbItems.forEach(i => i.classList.remove('selected'));
          item.classList.add('selected');
          selectedVerb = item;
        });
      });

      meaningItems.forEach(item => {
        item.addEventListener('click', () => {
          if (!selectedVerb || item.classList.contains('correct')) return;

          const match = selectedVerb.dataset.match;
          const isCorrect = item.textContent.trim() === match.trim();

          item.classList.remove('incorrect', 'correct');
          selectedVerb.classList.remove('incorrect', 'correct');

          if (isCorrect) {
            item.classList.add('correct');
            selectedVerb.classList.add('correct');
            item.style.pointerEvents = 'none';
            selectedVerb.style.pointerEvents = 'none';
            selectedVerb.classList.remove('selected');
            selectedVerb = null;
            score++;
            updateScoreDisplay();
            if (score === 25) celebrate();
          } else {
            const currentVerb = selectedVerb;
            const currentItem = item;
            currentVerb.classList.add('incorrect');
            currentItem.classList.add('incorrect');
            currentVerb.classList.remove('selected');
            selectedVerb = null;
            setTimeout(() => {
              currentVerb.classList.remove('incorrect');
              currentItem.classList.remove('incorrect');
            }, 1000);
          }
        });
      });
    }

    function shuffleItems() {
      verbs = shuffle(verbs);
      populateGame();
    }

    window.addEventListener('DOMContentLoaded', populateGame);
  </script>
</body>
</html>
